{
  "author": {
    "name": "dieghernan ",
    "website": "https://dieghernan.github.io/"
  },
  "date": "2024-01-24T15:31:19Z",
  "id": "01HMY1HQQ8FQA31523ZKN4RWV6",
  "message": "So `pop_init <- rast(global_tiff_path, win = as_spatvector(owin))` reads a raster but only in the region delimited by the object passed in `win`. As raster files tend to be quite large this saves a lot of resources by limiting the load process to a specific zone.\n\nMaybe you have skipped previous steps (i.e. the creation of `owin` or failed to load tidyterra or terra)? I created a minimal example and its work fine:\n\n```r\nlibrary(terra)\n#> terra 1.7.65\nlibrary(giscoR)\nlibrary(sf)\nlibrary(dplyr)\nlibrary(ggplot2)\nlibrary(tidyterra)\n\n# Create an owin\nowin <- gisco_get_countries(country = \"LU\", spatialtype = \"LB\") %>%\n  st_buffer(10000) %>%\n  st_transform(4326)\n\n# Read with owin, will zoom to where we expect\nf <- system.file(\"ex/elev.tif\", package = \"terra\")\n\nr <- rast(f, win = tidyterra::as_spatvector(owin))\n\nautoplot(r) +\n  geom_sf(data = owin, fill = NA)\n```\n\n![](https://i.imgur.com/SEcSmql.png)<!-- -->\n\n```r\n\n# no owin\n\nr2 <- rast(f)\n\nautoplot(r2) +\n  geom_sf(data = owin, fill = NA)\n```\n\n![](https://i.imgur.com/kuyvZ0M.png)<!-- -->",
  "message_html": "<p>So <code class=\"inline\">pop_init &lt;- rast(global_tiff_path, win = as_spatvector(owin))</code> reads a raster but only in the region delimited by the object passed in <code class=\"inline\">win</code>. As raster files tend to be quite large this saves a lot of resources by limiting the load process to a specific zone. </p><p>Maybe you have skipped previous steps (i.e. the creation of <code class=\"inline\">owin</code> or failed to load tidyterra or terra)? I created a minimal example and its work fine:</p><pre><code class=\"r\">library(terra)\n#&gt; terra 1.7.65\nlibrary(giscoR)\nlibrary(sf)\nlibrary(dplyr)\nlibrary(ggplot2)\nlibrary(tidyterra)\n\n# Create an owin\nowin &lt;- gisco_get_countries(country = &quot;LU&quot;, spatialtype = &quot;LB&quot;) %&gt;%\n  st_buffer(10000) %&gt;%\n  st_transform(4326)\n\n# Read with owin, will zoom to where we expect\nf &lt;- system.file(&quot;ex/elev.tif&quot;, package = &quot;terra&quot;)\n\nr &lt;- rast(f, win = tidyterra::as_spatvector(owin))\n\nautoplot(r) +\n  geom_sf(data = owin, fill = NA)</code></pre><p><img src=\"https://i.imgur.com/SEcSmql.png\" alt=\"\" />&lt;!– –&gt;</p><pre><code class=\"r\">\n# no owin\n\nr2 &lt;- rast(f)\n\nautoplot(r2) +\n  geom_sf(data = owin, fill = NA)</code></pre><p><img src=\"https://i.imgur.com/kuyvZ0M.png\" alt=\"\" />&lt;!– –&gt;</p>",
  "replying_to": "01HJ0FK05JYWTZ5A6XGT85RVS6"
}